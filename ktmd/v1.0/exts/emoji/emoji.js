/**
 *  Emoji Extension for ktMarkDown.js
 *    by Kengo Tsuruzono ( crane@sitearo.com )
 */

	'use strict';

	function Emoji() {
	}

	///// EMOJI /////
	Emoji.prototype.emojis = {

		// PEOPLE

			bowtie							: '',
			smile							: 'ğŸ˜„',
			laughing						: 'ğŸ˜†',
			blush							: 'ğŸ˜Š',
			smiley							: 'ğŸ˜ƒ',
			relaxed							: 'â˜º',
			smikr							: 'ğŸ˜',
			heart_eyes						: 'ğŸ˜',
			kissing_heart					: 'ğŸ˜˜',
			kissing_closed_eyes				: 'ğŸ˜š',
			flushed							: 'ğŸ˜³',
			relieved						: 'ğŸ˜Œ',
			satisfied						: 'ğŸ˜†',
			grin							: 'ğŸ˜',
			wink							: 'ğŸ˜‰',
			stuck_out_tongue_winking_eye	: 'ğŸ˜œ',
			stuck_out_tongue_closed_eye		: 'ğŸ˜',
			grinning						: '',
			kissing							: 'ğŸ˜—',
			kissing_smiling_eyes			: 'ğŸ˜™',
			stuck_out_tongue				: 'ğŸ˜›',
			sleeping						: 'ğŸ˜´',
			worried							: 'ğŸ˜Ÿ',
			frowing							: 'ğŸ˜¦',
			grimacing						: '',
			confused						: '',
			hushed							: '',
			expressionless					: '',
			unamused						: '',
			sweat_smile						: 'ğŸ˜…',
			sweat 							: 'ğŸ˜“',
			disappointed_relieved 			: 'ğŸ˜¥',
			weary 							: 'ğŸ˜©',
			pensive 						: 'ğŸ˜”',
			disappointed 					: 'ğŸ˜',
			confounded 						: 'ğŸ˜–',
			fearful							: 'ğŸ˜¨',
			cold_sweat						: 'ğŸ˜°',
			persevere						: 'ğŸ˜£',
			cry 							: 'ğŸ˜¢',
			sob 							: 'ğŸ˜­',
			joy 							: 'ğŸ˜‚',
			astonished 						: 'ğŸ˜²',
			scream 							: 'ğŸ˜±',
			neckbeard 						: '',
			tired_face 						: 'ğŸ˜«',
			angry 							: 'ğŸ˜ ',
			rage 							: 'ğŸ˜¡',
			triumph							: '',
			sleepy 							: 'ğŸ˜ª',
			yum 							: 'ğŸ˜‹',
			mask 							: 'ğŸ˜·',
			sunglasses 						: '',
			dizzy_face 						: '',
			imp								: 'ğŸ‘¿',
			smiling_imp 					: '',
			neutral_face					: '',
			no_mouth 						: '',
			innocent 						: '',
			alien 							: 'ğŸ‘½',

			yellow_heart 					: 'ğŸ’›',
			blue_heart 						: 'ğŸ’™',
			purple_heart 					: 'ğŸ’œ',
			heart 							: 'â¤',
			green_heart 					: 'ğŸ’š',
			broken_heart 					: 'ğŸ’”',
			heartbeat 						: 'ğŸ’“',
			heartpulse	 					: 'ğŸ’—',
			two_heart						: 'ğŸ’›',
			revolving_heart					: 'ğŸ’›',
			cupid 							: 'ğŸ’˜',
			sparkling_heart					: '',


			speech_balloon 		: '',

		// HANDS

			'+1'				: 'ğŸ‘',
			'thumbsup'			: 'ğŸ‘',
			'-1'				: 'ğŸ‘',
			'thumbsdown'		: 'ğŸ‘',
			'ok_hand'			: 'ğŸ‘Œ',
			'punch'				: 'ğŸ‘Š',
			'fist'				: 'âœŠ',
			'v'					: 'âœŒ',
			'wave'				: 'ğŸ‘‹',
			'hand'				: 'âœ‹',
			'raised_hand'		: 'âœ‹',
			'open_hands'		: 'ğŸ‘',
			'point_up'			: 'ğŸ‘†',
			'point_down'		: 'ğŸ‘‡',
			'point_right'		: 'ğŸ‘‰',
			'point_left'		: 'ğŸ‘ˆ',
			'raised_hands'		: 'ğŸ™Œ',
			'pray'				: 'ğŸ™',
			'point_up_2'		: 'â˜',
			'clap'				: 'ğŸ‘',
			'muscle'			: 'ğŸ’ª',

		// OBJECTS

			bamboo				: 'ğŸ',
			gift_heart			: 'ğŸ’',
			dolls				: 'ğŸ',

			school_satchel		: 'ğŸ’',
			mortar_board		: 'ğŸ“',
			flags				: 'ğŸ',

			fireworks			: 'ğŸ†',
			sparkler			: 'ğŸ‡',
			wind_chime			: 'ğŸ',

			sunny				: 'â˜€',
			umbrella			: 'â˜”',
			cloud				: 'â˜',
			snowflake			: '',
			snowman				: 'â›„',
			zap					: 'âš¡',
			cyclone				: 'ğŸŒ€',

			foggy				: '',
			ocean				: '',

		// MACHINES

			cd 					: 'ğŸ’¿',
			dvd 				: 'ğŸ“€',
			floppy_disk 		: 'ğŸ’¾',
			camera 				: 'ğŸ“·',
			video_camera 		: 'ğŸ“¹',
			movie_camera		: 'ğŸ¥',
			computer 			: 'ğŸ’»',
			tv 					: 'ğŸ“º',
			iphone 				: 'ğŸ“±',
			phone 				: 'â˜ï¸',
			telephone 			: 'â˜ï¸',
			telephone_receiver 	: 'ğŸ“',
			pager 				: 'ğŸ“Ÿ',
			fax 				: 'ğŸ“ ',
			minidisc 			: 'ğŸ’½',
			vhs 				: 'ğŸ“¼',
			sound 				: 'ğŸ”Š',
			speaker 			: 'ğŸ”Š',
			mute 				: '',
			loudspeaker 		: 'ğŸ“¢',
			mega 				: 'ğŸ“£',
			hourglass 			: 'âŒ›ï¸',
			hourglass_flowing_sand : 'â³ï¸',
			alram_clock 		: 'â°',
			watch 				: 'âŒšï¸',
			radio 				: 'ğŸ“»',
			satellite 			: 'ğŸ“¡',
			loop 				: 'â¿',
			mag 				: 'ğŸ”',
			mag_right 			: 'ğŸ”',
			unlock 				: 'ğŸ”“',
			lock 				: 'ğŸ”’',
			lock_with_ink_pen 	: 'ğŸ”',
			closed_lock_with_key : 'ğŸ”',
			key 				: 'ğŸ”‘',
			bulb 				: 'ğŸ’¡',
			flashlight 			: 'ğŸ”¦',
			high_brightness 	: 'ğŸ”†',
			low_brightness 		: 'ğŸ”…',
			electric_plug 		: 'ğŸ”Œ',
			battery 			: 'ğŸ”‹',
			calling 			: 'ğŸ“²',
			email 				: 'ğŸ“©',
			mailbox 			: 'ğŸ“«',
			postbox 			: 'ğŸ“®',
			bath 				: 'ğŸ›€',
			bathtub 			: 'ğŸ›',
			shower 				: 'ğŸš¿',
			toilet 				: 'ğŸš½',
			wrench 				: 'ğŸ”§',
			nut_and_bolt		: 'ğŸ”©',
			hammer 				: 'ğŸ”¨',
			seat 				: 'ğŸ’º',

		// MONEY

			moneybag 			: 'ğŸ’°',
			yen					: 'ğŸ’´',
			doller 				: 'ğŸ’µ',
			pound 				: 'ğŸ’·',
			euro 				: 'ğŸ’¶',
			credit_card 		: 'ğŸ’³',
			money_with_wings	: 'ğŸ’¸',

		// ANIMALS & PLANTS

			cat					: 'ğŸ±',
			dog					: 'ğŸ¶',
			mouse				: 'ğŸ­',
			hamster				: 'ğŸ¹',
			rabbit				: 'ğŸ°',
			wolf				: 'ğŸº',
			frog				: 'ğŸ¸',
			tiger				: 'ğŸ¯',
			koala				: 'ğŸ¨',
			bear 				: 'ğŸ»',
			pig 				: 'ğŸ·',
			pig_nose			: 'ğŸ½',
			cow 				: 'ğŸ®',
			boar 				: 'ğŸ—',
			monkey_face 		: 'ğŸµ',
			monkey 				: 'ğŸ’',
			horse 				: 'ğŸ´',
			racehorse 			: 'ğŸ',
			camel 				: 'ğŸª',
			sheep				: 'ğŸ‘',
			elephant 			: 'ğŸ˜',
			panda_face			: 'ğŸ¼',
			snake 				: 'ğŸ',
			bird 				: 'ğŸ¦',
			baby_chick 			: 'ğŸ¤',
			hatched_chick 		: 'ğŸ¥',
			hatching_chick 		: 'ğŸ£',
			chiken 				: 'ğŸ”',
			penguin 			: 'ğŸ§',
			turtle 				: 'ğŸ¢',
			bug 				: 'ğŸ›',
			honeybee 			: 'ğŸ',
			ant 				: 'ğŸœ',
			beetle 				: 'ğŸ',
			snail 				: 'ğŸŒ',
			octopus 			: 'ğŸ™',
			tropical_fish 		: 'ğŸ ',
			fish 				: 'ğŸŸ',
			whale 				: 'ğŸ³',
			whale2 				: 'ğŸ‹',
			dolphin 			: 'ğŸ¬',
			cow2 				: 'ğŸ„',
			ram 				: 'ğŸ',
			rat 				: 'ğŸ€',
			water_buffalo 		: 'ğŸƒ',
			tiger2 				: 'ğŸ…',
			rabbit2 			: 'ğŸ‡',
			dragon 				: 'ğŸ‰',
			goat 				: 'ğŸ',
			rooster 			: 'ğŸ“',
			dog2 				: 'ğŸ•',
			pig2 				: 'ğŸ–',
			mouse2 				: 'ğŸ',
			ox 					: 'ğŸ‚',
			dragon_face			: 'ğŸ²',
			blowfish 			: 'ğŸ¡',
			crocodile 			: 'ğŸŠ',
			dromedary_camel 	: 'ğŸ«',
			leopard 			: 'ğŸ†',
			cat2 				: 'ğŸˆ',
			poodle 				: 'ğŸ©',
			paw_prints 			: 'ğŸ¾',
			bouquet 			: 'ğŸ’',
			cherry_blossom		: 'ğŸŒ¸',
			tulip 				: 'ğŸŒ·',
			four_leaf_clover	: 'ğŸ€',
			rose 				: 'ğŸŒ¹',
			sunflower 			: 'ğŸŒ»',
			hibiscus 			: 'ğŸŒº',
			maple_leaf			: 'ğŸ',
			leaves 				: 'ğŸƒ',
			fallen_leaf 		: 'ğŸ‚',
			herb 				: 'ğŸŒ¿',
			mushroom 			: 'ğŸ„',
			cactus 				: 'ğŸŒµ',
			palm_tree 			: '',
			evergreen_tree 		: 'ğŸŒ²',
			deciduous_tree 		: 'ğŸŒ³',
			chestnut 			: 'ğŸŒ°',
			seedling 			: '',
			blossom 			: '',
			ear_of_rice 		: 'ğŸŒ¾',
			shell 				: 'ğŸš',


		// SPORTS

			football			: 'ğŸˆ',
			basketball			: 'ğŸ€',
			soccer				: 'âš½',
			baseball			: 'âš¾',
			tennis				: 'ğŸ¾',
			'8ball'				: 'ğŸ±',

			warning				: 'âš ',
			construction		: 'ğŸš§',
			beginner			: 'ğŸ”°',
			atm					: 'ğŸ§',

			dart				: 'ğŸ¯',
			mahjong				: 'ğŸ€„',


		// FOODS

			coffee				: 'â˜•',
			tea					: 'ğŸµ',
			sake				: 'ğŸ¶',
//			baby_buttle			: '',
			beer				: 'ğŸº',
			beers				: 'ğŸ»',
			cocktail			: 'ğŸ¸',
			fork_and_knife		: 'ğŸ´',
//			pizza				: '',
			hamburger			: 'ğŸ”',
			fries				: 'ğŸŸ',
//			poultry_leg			: '',
//			meat_on_bone		: '',
			spagetti			: 'ğŸ',
			curry				: 'ğŸ›',
//			fried_shrimp		: '',
			bento				: 'ğŸ±',
			sushi				: 'ğŸ£',
//			fish_cake			: '',
			rice_ball			: 'ğŸ™',
			rice_cracker		: 'ğŸ˜',
			rice 				: 'ğŸš',
			ramen				: 'ğŸœ',
			stew				: 'ğŸ²',
			oden				: 'ğŸ¢',
			dango				: 'ğŸ¡',
			egg					: 'ğŸ³',
			bread				: 'ğŸ',
//			doughnut			: 'ğŸ',
//			custard				: 'ğŸ',
			icecream			: 'ğŸ¦',
//			ice_cream			: 'ğŸ§',
			shaved_ice			: 'ğŸ§',
			birthday			: 'ğŸ‚',
			cake				: 'ğŸ°',
//			cookie				: 'ğŸ°',
//			chocolate_bar		: 'ğŸ°',
//			candy				: 'ğŸ°',
//			lollipop			: 'ğŸ°',
//			honey_pot			: 'ğŸ°',
			apple				: 'ğŸ',
			tangeline			: 'ğŸŠ',
//			lemon				: 'ğŸŠ',
//			cherries			: 'ğŸŠ',
//			grapes				: 'ğŸŠ',
			watermelon			: 'ğŸ‰',
			strawberry			: 'ğŸ“',
//			peach				: 'ğŸ“',
//			melon				: 'ğŸ“',
//			banana				: 'ğŸ“',
//			pear				: 'ğŸ“',
//			pinapple			: 'ğŸ“',
//			sweet_potatp		: 'ğŸ“',
			eggplant			: 'ğŸ†',
			tomato				: 'ğŸ…',
//			corn				: 'ğŸ…',


			clock1 				: 'ğŸ•',
			clock10 			: 'ğŸ•™',

	};


	Emoji.prototype.processLine = function( aLineIn ) {

		var textIn  = aLineIn;
		var textOut = '';
		var matches = [];

		while ( matches = textIn.match( /^(.*?)\ \:(\S*?)\:\ (.*)$/ ) ) {	// :emoji:
			var emoji = this.emojis[ matches[ 2 ] ];
			if ( emoji ) {
				textOut += matches[ 1 ] + emoji;
				textIn   = matches[ 3 ];
			} else {
				textOut += matches[ 1 ] + ' EMOJI ';
				textIn   = matches[ 3 ];
			}
		}

		return( textOut + textIn );

	}


	ktmd.readyExtension( 'emoji', new Emoji() );
